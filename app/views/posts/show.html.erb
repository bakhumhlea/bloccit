<h1>
    <%= @post.title %>
    <br>
    <small>
        submitted <%= time_ago_in_words(@post.created_at) %> ago by <%= @post.user.name %>
    </small>
</h1>

 
<div class="row">
    <div class="col-md-8">
        <% if user_is_authorized_for_post?(@post) %>
            <div class="col-md-4">
                <!--edit_post_path(@post) is a helper method that is generated in routes.rb by resources :posts.--!>
                <%= link_to "Edit", edit_topic_post_path(@post.topic, @post), class: 'btn btn-success' %>
                <%= link_to "Delete Post", [@post.topic, @post], method: :delete, class: 'btn btn-danger',data: {confirm: 'Are your sure you want to delete this post?'} %>
            </div>
        <% elsif moderator_authorized_for_post?(@post) %>
            <div class="col-md-4">
                <!--edit_post_path(@post) is a helper method that is generated in routes.rb by resources :posts.--!>
                <%= link_to "Edit", edit_topic_post_path(@post.topic, @post), class: 'btn btn-success' %>
            </div>
        <% end %>
        <p><%= @post.body %></p>
        <div>
            <!--render comment using partial--!>
            <h3>Comments</h3>
            <%= render @post.comments %>
        </div>
        <% if current_user %>
            <%= render 'comments/form', comment: Comment.new, post: @post %>
        <% end %>
    </div>
</div>